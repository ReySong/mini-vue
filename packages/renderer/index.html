<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>renderer</title>
    </head>

    <body>
        <div id="app"></div>
        <script type="module">
            import { renderer, Fragment } from "./index.js";
            const MyComponent = {
                name: "MyComponent",
                data() {
                    return {
                        foo: 1,
                    };
                },
                setup(props, { emit, slot }) {
                    emit("change", props.title);
                    return {};
                },
                render() {
                    return {
                        type: Fragment,
                        children: [this.$slots.header(), this.$slots.body(), this.$slots.footer()],
                    };
                },
            };
            MyComponent.props = {
                title: String,
            };

            const CompVNode = {
                type: MyComponent,
                props: {
                    title: "A big Title",
                    onChange: (val) => {
                        console.log(val);
                    },
                },
                children: {
                    header() {
                        return { type: "h1", children: "我是标题" };
                    },
                    body() {
                        return { type: "section", children: "我是内容" };
                    },
                    footer() {
                        return { type: "p", children: "我是注脚" };
                    },
                },
            };

            const app = document.querySelector("#app");
            renderer.render(CompVNode, app);
        </script>
    </body>
</html>
